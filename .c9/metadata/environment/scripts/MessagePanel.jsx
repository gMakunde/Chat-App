{"changed":true,"filter":false,"title":"MessagePanel.jsx","tooltip":"/scripts/MessagePanel.jsx","value":"import * as React from 'react';\nimport { MessageSent } from './MessageSent'\nimport { Socket } from './Socket'\n\nfunction ProfilePicture(props){\n\tif(props.bot) {\n\t\treturn(\n\t\t\t<div className=\"img_cont_msg\">\n\t\t\t\t<img src=\"https://www.cartoonbucket.com/wp-content/uploads/2017/04/Jenny-Wakeman-Smiling.png\" className=\"rounded-circle user_img_msg\"/>\n\t\t\t</div>\n\t\t\t);\n\t}\n\telse if(!props.pp){\n\t\treturn(\n\t\t\t<div className=\"img_cont_msg\">\n\t\t\t\t<img src=\"https://cdn1.iconfinder.com/data/icons/user-pictures/100/unknown-512.png\" className=\"rounded-circle user_img_msg\"/>\n\t\t\t</div>\n\t\t\t);\n\t}\n\treturn(\n\t\t\t<div className=\"img_cont_msg\">\n\t\t\t\t\t<img src={props.pp} className=\"rounded-circle user_img_msg\"/>\n\t\t\t\t</div>\n\t\t\t);\n}\n\nfunction MessageBody(props) {\n\tif(props.bot){\n\t\treturn(\n\t\t<div className=\"msg_cotainer_send\">\n\t\t\t{props.msg}\n\t\t\t<span className=\"msg_time\">{props.user}</span>\n\t\t</div>\n\t\t);\n\t}\n\treturn(\n\t\t<div className=\"msg_cotainer\">\n\t\t\t{props.msg}\n\t\t\t<span className=\"msg_time\">{props.user}</span>\n\t\t</div>\n\t\t);\n}\t\t\t\t\t\t\nfunction Reply(props) {\n\tif(props.bot){\n\t\treturn(\n\t\t<div className=\"d-flex justify-content-start mb-4\">\n\t\t\t<ProfilePicture bot={props.bot}/>\n\t\t\t<div style={{paddingRight:'10px'}}></div>\n\t\t\t<MessageBody msg={props.msg} user={props.user} bot={props.bot}/>\n\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div className=\"d-flex justify-content-start mb-4\">\n\t\t\t<ProfilePicture pp={props.pp} botpp={false} />\n\t\t\t<MessageBody msg={props.msg} user={props.user} bot={props.bot} />\n\t\t</div>\n\t);\n}\n\nexport class MessagePanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \t'messages': []\n        };\n        this.componentDidMount = this.componentDidMount.bind(this);\n    }\n    \n    componentDidMount(){\n    \tSocket.on('message received', (data) =>{\n    \t\tthis.state.messages.push(data['message']);\n    \t\tthis.setState({\n    \t\t\t'messages': this.state.messages\n    \t\t});\n    \t})\n    }\n    \n    render() {\n    \tlet msgs = this.state.messages;\n        return (\n\t\t\t<div className=\"col-md-8 col-xl-6 chat\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<div className=\"card-header msg_head\">\n\t\t\t\t\t\t<div className=\"user_info\">\n\t\t\t\t\t\t\t<span>Chat it up!</span>\n\t\t\t\t\t\t\t<p>{msgs.length} Messages</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-body msg_card_body\">\n\t\t\t\t\t{ msgs.map( msg =>\n\t\t\t\t\t\t<Reply msg={msg.msg} user={msg.user.username} pp={msg.user.profilePic} bot={msg.user.bot} />\n\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t<MessageSent />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n            );\n    }\n}","undoManager":{"mark":16,"position":18,"stack":[[{"start":{"row":80,"column":36},"end":{"row":81,"column":38},"action":"remove","lines":["","    \tconsole.log(\"message list\",msgs);"],"id":1263}],[{"start":{"row":82,"column":12},"end":{"row":82,"column":51},"action":"remove","lines":["<div className=\"container-fluid h-100\">"],"id":1264},{"start":{"row":82,"column":11},"end":{"row":82,"column":12},"action":"remove","lines":[" "]},{"start":{"row":82,"column":10},"end":{"row":82,"column":11},"action":"remove","lines":[" "]},{"start":{"row":82,"column":9},"end":{"row":82,"column":10},"action":"remove","lines":[" "]},{"start":{"row":82,"column":8},"end":{"row":82,"column":9},"action":"remove","lines":[" "]}],[{"start":{"row":82,"column":7},"end":{"row":82,"column":8},"action":"remove","lines":[" "],"id":1265},{"start":{"row":82,"column":6},"end":{"row":82,"column":7},"action":"remove","lines":[" "]},{"start":{"row":82,"column":5},"end":{"row":82,"column":6},"action":"remove","lines":[" "]},{"start":{"row":82,"column":4},"end":{"row":82,"column":5},"action":"remove","lines":[" "]},{"start":{"row":82,"column":3},"end":{"row":82,"column":4},"action":"remove","lines":[" "]},{"start":{"row":82,"column":2},"end":{"row":82,"column":3},"action":"remove","lines":[" "]},{"start":{"row":82,"column":1},"end":{"row":82,"column":2},"action":"remove","lines":[" "]}],[{"start":{"row":82,"column":0},"end":{"row":82,"column":1},"action":"remove","lines":[" "],"id":1266},{"start":{"row":81,"column":16},"end":{"row":82,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":101,"column":10},"end":{"row":102,"column":9},"action":"remove","lines":["","\t\t\t</div>"],"id":1267}],[{"start":{"row":82,"column":0},"end":{"row":82,"column":1},"action":"remove","lines":["\t"],"id":1268},{"start":{"row":83,"column":0},"end":{"row":83,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":84,"column":0},"end":{"row":84,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":85,"column":0},"end":{"row":85,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":86,"column":0},"end":{"row":86,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":87,"column":0},"end":{"row":87,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":88,"column":0},"end":{"row":88,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":89,"column":0},"end":{"row":89,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":90,"column":0},"end":{"row":90,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":91,"column":0},"end":{"row":91,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":93,"column":0},"end":{"row":93,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":95,"column":0},"end":{"row":95,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":96,"column":0},"end":{"row":96,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":97,"column":0},"end":{"row":97,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":98,"column":0},"end":{"row":98,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":99,"column":0},"end":{"row":99,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":101,"column":0},"end":{"row":101,"column":1},"action":"remove","lines":["\t"]}],[{"start":{"row":90,"column":6},"end":{"row":90,"column":12},"action":"remove","lines":["</div>"],"id":1269}],[{"start":{"row":84,"column":43},"end":{"row":85,"column":43},"action":"remove","lines":["","\t\t\t\t\t\t<div className=\"d-flex bd-highlight\">"],"id":1270}],[{"start":{"row":85,"column":0},"end":{"row":85,"column":1},"action":"remove","lines":["\t"],"id":1271},{"start":{"row":86,"column":0},"end":{"row":86,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":87,"column":0},"end":{"row":87,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":88,"column":0},"end":{"row":88,"column":1},"action":"remove","lines":["\t"]}],[{"start":{"row":89,"column":5},"end":{"row":89,"column":6},"action":"remove","lines":["\t"],"id":1272},{"start":{"row":89,"column":4},"end":{"row":89,"column":5},"action":"remove","lines":["\t"]},{"start":{"row":89,"column":3},"end":{"row":89,"column":4},"action":"remove","lines":["\t"]},{"start":{"row":89,"column":2},"end":{"row":89,"column":3},"action":"remove","lines":["\t"]},{"start":{"row":89,"column":1},"end":{"row":89,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":89,"column":0},"end":{"row":89,"column":1},"action":"remove","lines":["\t"]}],[{"start":{"row":88,"column":12},"end":{"row":89,"column":0},"action":"remove","lines":["",""],"id":1273}],[{"start":{"row":87,"column":36},"end":{"row":87,"column":37},"action":"remove","lines":[";"],"id":1274}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"remove","lines":["\t"],"id":1275}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"insert","lines":["/"],"id":1276},{"start":{"row":42,"column":1},"end":{"row":42,"column":2},"action":"insert","lines":["/"]},{"start":{"row":42,"column":2},"end":{"row":42,"column":3},"action":"insert","lines":["T"]},{"start":{"row":42,"column":3},"end":{"row":42,"column":4},"action":"insert","lines":["o"]},{"start":{"row":42,"column":4},"end":{"row":42,"column":5},"action":"insert","lines":["d"]}],[{"start":{"row":42,"column":5},"end":{"row":42,"column":6},"action":"insert","lines":["o"],"id":1277}],[{"start":{"row":42,"column":6},"end":{"row":42,"column":7},"action":"insert","lines":[" "],"id":1278},{"start":{"row":42,"column":7},"end":{"row":42,"column":8},"action":"insert","lines":["m"]},{"start":{"row":42,"column":8},"end":{"row":42,"column":9},"action":"insert","lines":["a"]},{"start":{"row":42,"column":9},"end":{"row":42,"column":10},"action":"insert","lines":["k"]},{"start":{"row":42,"column":10},"end":{"row":42,"column":11},"action":"insert","lines":["e"]}],[{"start":{"row":42,"column":11},"end":{"row":42,"column":12},"action":"insert","lines":[" "],"id":1279},{"start":{"row":42,"column":12},"end":{"row":42,"column":13},"action":"insert","lines":["r"]},{"start":{"row":42,"column":13},"end":{"row":42,"column":14},"action":"insert","lines":["e"]},{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"insert","lines":["p"]},{"start":{"row":42,"column":15},"end":{"row":42,"column":16},"action":"insert","lines":["l"]},{"start":{"row":42,"column":16},"end":{"row":42,"column":17},"action":"insert","lines":["y"]}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":17},"action":"remove","lines":["Response"],"id":1280},{"start":{"row":43,"column":9},"end":{"row":43,"column":14},"action":"insert","lines":["Reply"]},{"start":{"row":92,"column":7},"end":{"row":92,"column":15},"action":"remove","lines":["Response"]},{"start":{"row":92,"column":7},"end":{"row":92,"column":12},"action":"insert","lines":["Reply"]}],[{"start":{"row":41,"column":1},"end":{"row":42,"column":17},"action":"remove","lines":["","//Todo make reply"],"id":1281}]]},"ace":{"folds":[],"scrolltop":363,"scrollleft":0,"selection":{"start":{"row":41,"column":1},"end":{"row":41,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":21,"state":["jsx",1],"mode":"ace/mode/javascript"}},"timestamp":1582523277880}